(this["webpackJsonpclient-main"]=this["webpackJsonpclient-main"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a,c=n(2),r=n.n(c),s=n(40),i=n.n(s),A=n(16),o=(Object(A.a)(),n(30)),u=n(12),j=(n(49),n(50),n(51),n(52),n(53),n(54),n(35)),l=n(14),d=l.a.initializeApp({apiKey:"AIzaSyBxdBea8uaApKCRbbpSOQczvxJz-RNjN-w",authDomain:"chatapp-6786d.firebaseapp.com",projectId:"chatapp-6786d",storageBucket:"chatapp-6786d.appspot.com",messagingSenderId:"92132500873",appId:"1:92132500873:web:89cddb7a80500dacc86d58"}),h=n(22),b=n(23),p=n(25),O=n(24),x=n(41),m=n(31),f=n(42),v=n.n(f),g=n(5),w=Object(m.css)(a||(a=Object(x.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n"]))),C=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={loading:!0},a}return Object(b.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"sweet-loading",children:Object(g.jsx)(v.a,{css:w,size:50,color:"#123abc",loading:this.state.loading})})}}]),n}(r.a.Component),y=r.a.createContext(),B=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),A=Object(j.a)(i,2),o=A[0],u=A[1];return Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){e&&(l.a.auth().setPersistence(l.a.auth.Auth.Persistence.SESSION),s(e)),u(!1)}))}),[]),o?Object(g.jsx)(C,{}):Object(g.jsx)(y.Provider,{value:{currentUser:r},children:t})},N=n(26),R=n(44),E=function(e){var t=e.component,n=Object(R.a)(e,["component"]),a=Object(c.useContext)(y).currentUser;return Object(g.jsx)(u.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return a?Object(g.jsx)(t,Object(N.a)({},e)):Object(g.jsx)(u.a,{to:"/"})}}))},M=n(74),Q=n(72),S=function(){return Object(g.jsx)(Q.a,{fluid:!0,className:"text-center footer",children:Object(g.jsxs)("div",{className:"pt-5 pb-3",children:[Object(g.jsx)("a",{href:"https://www.linkedin.com/in/shahrukh-qureshi-a735031b1",target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAArCAQAAACpiKIyAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkCxwCLigRKF+6AAACf0lEQVRIx+2VTWtdVRiFn/Xue3MTiKZNP6B26EBRnLQUFOwfsOBQRJz4Axz5A0Rw4g8QEUTBSQtqB6WCglAzcaB0UOigIqEforFp0xuTJic35553OWijaXsv5kgHDu4avZu198Pae7/nbJhooon+JzKWlXLJMpCVOviYwLqHNslQ7yq5qLaMGBNZGPMSJ+xzRjf9WMAWovhz/8CP+dHLgfqtE48OXEy+YOcwm9qfvpjcCVqiRybeMtruu1JRbFVfzFRKzmOlUlaGI1XLGup6y8Qshrn0xu+/XFt8732egs+iCsetWC4uxiTZ6WtIrVYbuQoyhkM8y/59gUxi/uAGxvt8JHvJJS5qyGobcgbkAX/rC77g89/Nb0eeyYVcqE//eizP5lL2c7H54Mq0VWuFFqffxBENj6bT6Q2/fsLK5bS93VQrtn3PGXz9SW8zLo/Bjm43lmyzRpKuNjqGNaWH3ZieX1vZGAiSuvvKybdO5zNldOLRH8iOFwpFWFAcyHx/7tibb7+6/BNh5O6pd9TJJ0Yu7vx7h/ydqGxuvPbhrYWPB+uzh74SVs6tTlPNa71l4ockmua52wz2x9NrgIRFQTny+lqAAYZGx527V435i7QEJ13j3bBxvdYSDPUe5427PGE3pHHasFPveGQ2ivvjvYMFpsQcwPTMlCDmCOjNdgCsKUXpQW8Gj9v0SHBlpLs3ztw+Gnm3uTqE3768+Xzkn1tLCai5fu2b1V638/MVurDOmHCPyki1u1McpKGw5TsqHMYEm6wiW7M8SRL0qRB7fV8sqGX9M3Y86Pu/vSiHQWZKRUVFCHq7anRcXRUVxf3xno/iEc8P1A97E000UVv9BegeP3qUeS5WAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTExLTI4VDAyOjQ2OjM2KzAwOjAwKfJWMwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMS0yOFQwMjo0NjozNiswMDowMFiv7o8AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",alt:"LinkedIn"})}),Object(g.jsx)("a",{href:"https://github.com/ShaleeQureshi",target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBh0BAyR63lTzAAAEGElEQVRIx3WVT2hcVRTGf/e8OzMvb5LRJjXEjNW6EP/VpgULVitFpVK1VCmCKxFBUKHdFEQR3FhxIVRBu3QjaLtQalelWLuwtIK2IDZC04Yuqplo0ySYSeblzcy797h40/mTxPNW995zvnPu9913jgGACqBgRAJf16WR6Hm7y44Fo2YAdNFNp7+np+OTpX9yxon3qgZDGQADMI0CiKHp04cKBwv7wnV5tUYydDypNkwyn3zfOBxczotiPCjlDGAaD2hwzY1E0UfRgX5bAI8irQQKeAxSZymNP699cD1+OBAHUMZUshxB7HL3h9+VNhUdSpBVtsIUh6kF1fHk5ebVqAVhKoAPlp3dFp0cXJ9Ls2BdA0EBo7imnb8Zv5BeCANxYKZQWfb2gejs0B02xdK+t+kB6VqnqZ2biXemE31ivKiZ8loMjw32hMcAuIxcFIfQpJ4dWpsODodHffSnVyMiI/QdKm3JNW+FK/Au75ASAIoCARVe4WvAAdhcs7Q1+vBORGzsZPPA/iKdcINjil8RRrlIE0OR7ZzmPFs6N7JFkgMLX8XjNsTsL+Zol2/wBGxgkh9YJoegeM4xwBD3dAAMaTG/vJ83pVYuvBhC0OFa+JsrWELWUaSPiH7WYREu0OUYhIQvxWUJd4fD+A7hHjjOJCEOh299DkeRH/ml5ZGVGg4Xdot9Jk+L7PbbnqRwy42VJ13Omsc+LXbM0i24AZbWfIjgqfYgWuyYBGXhf/zXrKF7aQjKYgZ6TzwwikPWDN+wAoDSaj9gL0KK7cI15FjkbnbCCmjRRXpIDFAe5T1i/qXRljZhltv5mFK3YKpQta7ib5PWz+cRLnGW13mNTRzjMjMoSp6NbONVyvju/KrGVZg6WldNtcve0jc02/pZH9FtOqa7dF5VnTrtsbSuU99IeqbRRaICnzDOIRaB8yQY8lSYbNXXy2qD9IxNTiUz/cO3OojBMcD7vM1xSixQwiEoyWoRFUlu1E9JsVI/kbT+0oxEz16+5Unu414cgsGsISouoX4impaE+pFaA9tRQlAe5zO+5CmqgG83lp78ttaoH0mQKJDx+EgN0u4n4/GAoY8CBcLVFaQ14i/kjygwf5nruj4qnVu/NdfV0jKrUkUAZYiwJ7xpZ39b3DETbzSdpvrT0LBdBbGmpamduxHvbF6JRLyA8WGQTsR75m42LWn3dRWPtrpieytt2rmb8Z70ShSIBzEYrOsLmhfiHbPjNYvvgJiWBqYdjK/Z2UvxE82Lfa3BIuVMUhcFk1cXHpv/dM7XLQaPw7e7erYydTvn5w8vbJ+YjILAGZRyBl4BDCpQ9/7BwsFwXzi41nCtH08O24m8KHhQ7uo8rwqKYoxI4Ju6NBI+Z5+1m4NRSkA1G+/Jyf4b2XhHDbTG+3/h2ffAuoZOxgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNi0yOVQwMTowMzozNi0wNzowMAh3eAMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDYtMjlUMDE6MDM6MzYtMDc6MDB5KsC/AAAAAElFTkSuQmCC",alt:"LinkedIn"})}),Object(g.jsx)("hr",{id:"underline"}),Object(g.jsx)("p",{children:"\xa9 2021 - Shahrukh Qureshi"})]})})},V=function(e){var t=e.history;Object(c.useContext)(y).currentUser&&t.push("/room");return Object(g.jsxs)("div",{className:"bg",children:[Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsxs)("div",{className:"center text-center landing-txt",children:[Object(g.jsx)("h1",{children:"Welcome to Shahrukh's Chat App"}),Object(g.jsx)(M.a,{onClick:function(){l.a.auth().signInWithPopup(new l.a.auth.GoogleAuthProvider)},variant:"outline-dark",className:"w-50 mt-2",id:"button-landing",children:"Sign in with Google"})]})}),Object(g.jsx)(S,{})]})},F=n(20),k=n.n(F),G=n(34),I=n(73),W=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={chat:[],queryError:null},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(k.a.mark((function e(){var t=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({queryError:null});try{l.a.database().ref("/chat").on("value",(function(e){var n=[];e.forEach((function(e){n.push(e.val())})),t.setState({chat:n})}))}catch(n){this.setState({queryError:n.message})}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(G.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===(n=document.getElementById("text").value)){e.next=9;break}return e.next=6,l.a.database().ref("/chat").push({content:n,time:Date.now(),uid:l.a.auth().currentUser.uid,email:l.a.auth().currentUser.email});case 6:document.getElementById("text").value="",e.next=10;break;case 9:alert("You haven't typed anything!");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"bg",children:[Object(g.jsxs)(Q.a,{className:"wrapper pt-2",children:[Object(g.jsx)("div",{className:"text-center mt-5",children:Object(g.jsxs)("div",{id:"room-header",children:[Object(g.jsx)("h1",{children:"Welcome to the Chat Room"}),Object(g.jsx)(M.a,{className:"w-50",variant:"outline-dark",onClick:function(){l.a.auth().signOut(),window.location.reload()},children:"Sign Out"})]})}),Object(g.jsxs)("section",{className:"message-form",children:[Object(g.jsx)("div",{className:"msgs mt-5",children:this.state.chat.map((function(e){return e.uid!==l.a.auth().currentUser.uid?Object(g.jsx)("span",{children:Object(g.jsxs)("p",{children:[e.content,Object(g.jsx)("br",{}),Object(g.jsxs)("span",{id:"sender",children:["Sent by: ",e.email]})]})},e.time):Object(g.jsx)("span",{children:Object(g.jsxs)("p",{id:"sender-me",children:[e.content,Object(g.jsx)("br",{}),Object(g.jsx)("span",{id:"sender",children:"Sent by: YOU"})]})},e.time)}))}),Object(g.jsxs)(I.a,{onSubmit:this.sendMessage,className:"sticky-bottom",children:[Object(g.jsx)(I.a.Group,{children:Object(g.jsx)(I.a.Control,{type:"text",placeholder:"Enter text",id:"text"})}),Object(g.jsx)(M.a,{variant:"outline-success",type:"submit",className:"w-100",children:"Send"})]})]})]}),Object(g.jsx)(S,{})]})}}]),n}(r.a.Component);var z=function(){return Object(g.jsx)(B,{children:Object(g.jsx)(o.a,{basename:"/",children:Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{path:["/","/home","/index","sign-in","signin","login"],exact:!0,component:V}),Object(g.jsx)(E,{path:"/room",exact:!0,component:W})]})})})};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(z,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.2bf3e04c.chunk.js.map